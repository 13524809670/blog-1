# 基于组件的业务系统框架思路
## 设计想法

1. 业务系统由若干个页面构成；
2. 每个页面由若干个组件构成；
3. 页面指的是一个比较大范围的功能模块，比如：监控、统计、设置；
4. 组件是相对独立，可复用的功能实现，比如：地图监控组件、统计报表组件、车辆对话器组件。封装粒度需要根据实际情况伸缩，可以再往下细化到与业务流程无关，只被动提供类似服务的功能，比如：输出报表组件，分页组件；也可以上升到一个大的组件，比如：人员监控GIS显示，包括报警查看，轨迹查看；
5. 组件的组合就是页面；
6. 系统有若干个角色，不同的角色对应不同的组件组合，并且可配置；
7. 原则上，所有界面都是组件的组合，系统设置的默认的角色对应的界面并不是固定的，而是由系统初始化配置时按照以上的规则配置成默认的形式；理论上也是可以重新配置的。因此，本身定位某角色想要看其他角色的功能时，只需要给该角色添加想要看的功能对应的组件或者组件组合；
8. 组件与组件之间有交互关系，实现上以事件形式体现，具体的事件专门设计事件机制。主要要求各组件可以自定义自己的事件，事件对应的内容，事件发布（通过发布，让其他组件能得到该事件，参考：[Twitter flightjs框架](http://flightjs.github.io/)）；
9. 组件的基本属性：

>
1. 名称
2. 描述
3. Id
4. 宽度
5. 高度
6. 定位坐标位置（left、top）
>

## 总结
以上思路主要就是一个软件设计原则（SRP\LSP\DIP\ISP\CARP, [http://www.cnblogs.com/tomin/archive/2008/12/25/1362523.html](http://www.cnblogs.com/tomin/archive/2008/12/25/1362523.html),其中重点是：依赖倒置，针对抽象设计、而不针对具体内容设计）.基于以上的思路，可以满足如下类似的要求：

1. 不管什么角色，只需要设计好该角色的功能，找出现有系统是否有已实现的功能组件，若有，就复用，没有，则按照规则新开发组件；
2.	产品设计的工作转化为：定义好角色的功能，并通过交互设计规划好组件之间的关系，并得出原型（该原型也是基于基本的框架设计，不能天马行空），如果认为现有规范不满足原型设计，可以考虑纳入规则；
3.	开发人员不用一上来就需要熟悉所有的功能，而只需要了解原则性框架，然后开发框架代码；
4.	后续各角色对应的功能可以通过增加人手，并行开发；
5.	角色A可以通过添加功能组件，得到角色B的功能；
6.	其他？
